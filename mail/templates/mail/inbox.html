{% extends "mail/layout.html" %}
{% load static %}

{% block body %}
<!-- <h2>{{ request.user.email }}</h2> -->
    <div class="flex-container">
        <div class="side-nav">
            <h2>Mail</h2>
            <nav class="nav flex-column">
                <button class="btn btn-sm btn-primary nav-link" id="compose">Compose</button>
                <button class="left-text btn btn-sm nav-link" id="inbox">Inbox</button>
                <button class="left-text btn btn-sm nav-link" id="sent">Sent</button>
                <button class="left-text btn btn-sm nav-link" id="archived">Archived</button>
                <a class="left-text btn-sm nav-link" href="{% url 'logout' %}">Log Out</a>
            </nav>
        </div>
        <div class="main-content">

            <div id="email-header" class="flex-header">
                <!-- https://www.w3schools.com/django/django_add_image.php -->
                <button id="back-button"><img src="{% static 'mail/back-button.png' %}"></button>
                <div id="mailbox"></div>
                <div id="dummyDivForRightNow"></div>
                <div>{{ request.user.email }}</div>
            </div>

            <div id="emails-view">
            </div>
        
            <div id="email-view">
                <!-- Div for buttons, archive, delete? -->
                <!-- Empty span to get id of current email -->
                <span></span>
                <div class="form-group">
                    <button id="archive" class="btn btn-sm btn-outline-primary"></button>
                </div>
                <!-- Subject -->
                <div class="form-group">
                    <p id="email-subject"></p>
                </div>
                <!-- From -->
                <div class="form-group flex-container" id="email-line">
                    <span id="email-from"></span>
                    <span id="email-timestamp"></span>
                </div>
                <div class="form-group">
                    <p id="email-body"></p>
                </div>
                <div class="form-group">
                    <button id="reply" class="btn btn-sm btn-outline-primary">Reply</button>
                </div>
            </div>
        
            <div id="compose-view">
                <h3>New Email</h3>
                <form id="compose-form">
                    <div class="form-group">
                        From: <input disabled class="form-control" value="{{ request.user.email }}">
                    </div>
                    <div class="form-group">
                        To: <input id="compose-recipients" class="form-control">
                    </div>
                    <div class="form-group">
                        <input class="form-control" id="compose-subject" placeholder="Subject">
                    </div>
                    <textarea class="form-control" id="compose-body" placeholder="Body"></textarea>
                    <input id="submit-compose" type="button" value="Submit" class="btn btn-primary"/>
                </form>
            </div>
        </div>
    </div>

{% endblock %}

{% block script %}
    <script src="{% static 'mail/inbox.js' %}"></script>
{% endblock %}